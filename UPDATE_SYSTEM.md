# 자동 업데이트 시스템 가이드

더죤환경기술(주) 기술진단팀 협업 시스템의 자동 업데이트 기능에 대한 가이드입니다.

## 📋 개요

이 시스템은 Google Drive를 활용하여 팀원들에게 자동으로 새 버전 알림을 제공하고, 업데이트를 관리할 수 있게 해줍니다.

## 🔄 업데이트 프로세스

### 사용자 관점
1. **앱 실행 시 자동 확인**: 로그인 전에 자동으로 업데이트 확인
2. **업데이트 알림**: 새 버전이 있으면 자동으로 팝업 표시
3. **선택 옵션**:
   - **지금 업데이트**: 즉시 다운로드 및 설치
   - **나중에**: 다음 실행 시 다시 확인
   - **건너뛰기**: 해당 버전을 더 이상 알리지 않음

### 관리자 관점
1. **새 버전 개발**: 기능 추가 및 수정
2. **버전 정보 업로드**: `npm run upload-version` 명령어 실행
3. **팀원 알림**: 자동으로 모든 팀원에게 업데이트 알림 전송

## 🛠️ 관리자 업데이트 배포 방법

### 1. 새 버전 준비
```bash
# 코드 수정 및 테스트 완료 후
npm run build-electron
```

### 2. 버전 정보 업로드
```bash
npm run upload-version
```

### 3. 대화형 입력
스크립트 실행 시 다음 정보를 입력합니다:

```
새 버전 번호 (예: 1.0.1): 1.1.0
버전 설명: 프로젝트 관리 기능 개선 및 성능 최적화
새 기능들 (콤마로 구분): 실시간 알림, 파일 동기화 개선, UI 업데이트
다운로드 URL (선택사항): https://your-server.com/updates/jindan-v1.1.0.exe
필수 업데이트인가요? (y/N): n
```

### 4. 확인 및 업로드
- 입력된 정보를 검토 후 확인
- Google Drive에 자동 업로드
- 팀원들은 다음 앱 실행 시 업데이트 알림 받음

## 📁 Google Drive 폴더 구조

```
📁 JindanTeam_Updates/
└── 📄 version-info.json    # 최신 버전 정보
```

### version-info.json 예시
```json
{
  "version": "1.1.0",
  "releaseDate": "2025-10-22T06:30:00.000Z",
  "description": "프로젝트 관리 기능 개선 및 성능 최적화",
  "features": [
    "실시간 알림",
    "파일 동기화 개선", 
    "UI 업데이트"
  ],
  "downloadUrl": "https://your-server.com/updates/jindan-v1.1.0.exe",
  "mandatory": false,
  "previousVersion": "1.0.0"
}
```

## 🔧 업데이트 유형

### 1. 선택적 업데이트 (mandatory: false)
- 사용자가 선택할 수 있음
- "나중에" 또는 "건너뛰기" 가능
- 일반적인 기능 개선이나 추가

### 2. 필수 업데이트 (mandatory: true)
- 반드시 업데이트해야 함
- "건너뛰기" 옵션 비활성화
- 보안 패치나 중요한 버그 수정

## 🚀 업데이트 설치 방법

### 자동 설치 (권장)
1. 다운로드 URL이 설정된 경우
2. 자동으로 파일 다운로드
3. 설치 실행 후 앱 재시작

### 수동 설치
1. 다운로드 URL이 없는 경우
2. 관리자가 직접 파일 배포
3. 팀원이 수동으로 설치

## 📊 버전 관리 전략

### 시맨틱 버전 사용 (예: 1.2.3)
- **Major (1.x.x)**: 대규모 변경, 호환성 깨짐
- **Minor (x.2.x)**: 새 기능 추가, 하위 호환성 유지
- **Patch (x.x.3)**: 버그 수정, 작은 개선

### 권장 업데이트 주기
- **주요 기능 추가**: Minor 버전 업데이트
- **버그 수정**: Patch 버전 업데이트
- **보안 패치**: 필수 업데이트로 즉시 배포

## 🔍 트러블슈팅

### 업데이트 확인 실패
- Google Drive 연결 상태 확인
- 인터넷 연결 확인
- 권한 설정 확인

### 다운로드 실패
- 다운로드 URL 유효성 확인
- 방화벽 설정 확인
- 임시 폴더 권한 확인

### 설치 실패
- 관리자 권한으로 실행
- 백신 프로그램 예외 설정
- 기존 앱 완전 종료 후 재시도

## 💡 활용 팁

### 1. 테스트 배포
```bash
# 테스트 버전 (예: 1.1.0-beta)
npm run upload-version
```

### 2. 롤백
- 이전 버전으로 version-info.json 수정
- 필요시 이전 설치 파일 재배포

### 3. 공지사항 포함
```json
{
  "description": "🎉 새로운 대시보드 추가! 자세한 사항은 공지사항을 확인하세요.",
  "features": ["새 대시보드", "성능 개선"]
}
```

## 📞 지원

업데이트 관련 문제 발생 시:
1. 로그 파일 확인 (`%USERPROFILE%\AppData\Roaming\team-collaboration\logs`)
2. 시스템 관리자에게 문의
3. 수동 설치 파일 요청

---
**더죤환경기술(주) 기술진단팀 | 자동 업데이트 시스템 v1.0**